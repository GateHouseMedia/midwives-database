clean_names()
florida_midwives <- read_csv("FINAL_FLORIDA_MIDWIVES.csv") %>%
clean_names() %>%
select(-city) %>%
mutate(date_collected = "OCTOBER 2018")
florida_nursemidwives <- read_csv("FINAL_FLORIDA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
georgia_nursemidwives <- read_csv("FINAL_GEORGIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
idaho_midwives <- read_csv("FINAL_IDAHO_MIDWIVES.CSV") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
idaho_nursemidwives <- read_csv("FINAL_IDAHO_NURSEMIDWIVES.CSV") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
illinois_nursemidwives <- read_csv("FINAL_ILLINOIS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
indiana_midwives <- read_csv("FINAL_INDIANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
indiana_nursemidwives <- read_csv("FINAL_INDIANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
iowa_nursemidwives <- read_csv("FINAL_IOWA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
kentucky_nursemidwives <- read_csv("FINAL_KENTUCKY_NURSEMIDWIVES.csv") %>%
clean_names()
lousiana_midwives <- read_csv("FINAL_LOUISIANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
lousiana_nursemidwives <- read_csv("FINAL_LOUISIANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
maryland_midwives <- read_csv("FINAL_MARYLAND_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
maryland_nursemidwives <- read_csv("FINAL_MARYLAND_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
massachusetts_nursemidwives <- read_csv("FINAL_MASSACHUSETTS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
michigan_nursemidwives <- read_csv("FINAL_MICHIGAN_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
minnesota_midwives <- read_csv("FINAL_MINNESOTA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
mississippi_nursemidwives <- read_csv("FINAL_MISSISSIPPI_NURSEMIDWIVES.csv") %>%
clean_names()
montana_midwives <- read_csv("FINAL_MONTANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
montana_nursemidwives <- read_csv("FINAL_MONTANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
nebraska_nursemidwives <- read_csv("FINAL_NEBRASKA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
nevada_nursemidwives <- read_csv("FINAL_NEVADA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
newjersey_allmidwives <- read_csv("FINAL_NEWJERSEY_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
newmexico_midwives <- read_csv("FINAL_NEWMEXICO_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018") %>%
mutate(known_credentials = "STATE LICENSED MIDWIFE")
newmexico_nursemidwives <- read_csv("FINAL_NEWMEXICO_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
newyork_midwives <- read_csv("FINAL_NEWYORK_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
northcarolina_nursemidwives <- read_csv("FINAL_NORTHCAROLINA_NURSEMIDWIVES.csv") %>%
clean_names()
ohio_nursemidwives <- read_csv("FINAL_OHIO_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
oklahoma_nursemidwives <- read_csv("FINAL_OKLAHOMA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
oregon_midwives <- read_csv("FINAL_OREGON_MIDWIVES.csv") %>%
clean_names()
oregon_nursemidwives <- read_csv("FINAL_OREGON_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
pennsylvania_nursemidwives <- read_csv("FINAL_PENNSYLVANIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
rhodeisland_allmidwives <- read_csv("FINAL_RHODEISLAND_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
southdakota_nursemidwives <- read_csv("FINAL_SOUTHDAKOTA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
texas_midwives <- read_csv("FINAL_TEXAS_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
texas_nursemidwives <- read_csv("FINAL_TEXAS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
utah_midwives <- read_csv("FINAL_UTAH_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
utah_nursemidwives <- read_csv("FINAL_UTAH_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
vermont_nursemidwives <- read_csv("FINAL_VERMONT_NURSEMIDWIVES.csv") %>%
clean_names() %>%
select(-city) %>%
mutate(date_collected = "AUGUST 2018")
virginia_midwives <- read_csv("WAITINGFORNEW_VIRGINIA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia midwives is not complete.")
virginia_nursemidwives <- read_csv("WAITINGFORNEW_VIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia nurse midwives is not complete.")
westvirginia_nursemidwives <- read_csv("FINAL_WESTVIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
wisconsin_allmidwives <- read_csv("FINAL_WISCONSIN_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
wyoming_midwives <- read_csv("FINAL_WYOMING_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
self_reported_midwives <- read_csv("SELF-REPORTEDMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
FINALMIDWIVES2 <- bind_rows(mutate_all(CONVERTFINALMIDWIVES, as.character), mutate_all(alabama_nursemidwives, as.character), mutate_all(alaska_midwives, as.character), mutate_all(arkansas_midwives, as.character), mutate_all(california_midwives, as.character), mutate_all(california_nursemidwives, as.character), mutate_all(colorado_midwives, as.character), mutate_all(colorado_nursemidwives, as.character), mutate_all(dc_nursemidwives, as.character), mutate_all(florida_midwives, as.character), mutate_all(florida_nursemidwives, as.character), mutate_all(georgia_nursemidwives, as.character), mutate_all(idaho_midwives, as.character), mutate_all(idaho_nursemidwives, as.character), mutate_all(indiana_midwives, as.character), mutate_all(indiana_nursemidwives, as.character), mutate_all(illinois_nursemidwives, as.character), mutate_all(iowa_nursemidwives, as.character), mutate_all(kentucky_nursemidwives, as.character), mutate_all(lousiana_midwives, as.character), mutate_all(lousiana_nursemidwives, as.character), mutate_all(maryland_midwives, as.character), mutate_all(maryland_nursemidwives, as.character), mutate_all(massachusetts_nursemidwives, as.character), mutate_all(michigan_nursemidwives, as.character), mutate_all(minnesota_midwives, as.character), mutate_all(mississippi_nursemidwives, as.character), mutate_all(montana_midwives, as.character), mutate_all(montana_nursemidwives, as.character), mutate_all(nebraska_nursemidwives, as.character), mutate_all(nevada_nursemidwives, as.character), mutate_all(newyork_midwives, as.character), mutate_all(newjersey_allmidwives, as.character), mutate_all(newmexico_midwives, as.character), mutate_all(newmexico_nursemidwives, as.character), mutate_all(northcarolina_nursemidwives, as.character), mutate_all(ohio_nursemidwives, as.character), mutate_all(oklahoma_nursemidwives, as.character), mutate_all(oregon_midwives, as.character), mutate_all(oregon_nursemidwives, as.character), mutate_all(pennsylvania_nursemidwives, as.character), mutate_all(rhodeisland_allmidwives, as.character), mutate_all(southdakota_nursemidwives, as.character), mutate_all(texas_midwives, as.character), mutate_all(texas_nursemidwives, as.character), mutate_all(utah_midwives, as.character), mutate_all(utah_nursemidwives, as.character), mutate_all(vermont_nursemidwives, as.character), mutate_all(virginia_midwives, as.character), mutate_all(virginia_nursemidwives, as.character), mutate_all(westvirginia_nursemidwives, as.character), mutate_all(wisconsin_allmidwives, as.character), mutate_all(wyoming_midwives, as.character), mutate_all(self_reported_midwives, as.character))
write_csv(FINALMIDWIVES2, "finalmidwives2.csv")
format_finalmidwives <- FINALMIDWIVES2
zips1 <- format_finalmidwives %>%
mutate(zip = str_pad(zip, 5, side="left", pad="0"))
zips2 <- zips1 %>%
mutate(zip2 = str_pad(zip2, 5, side="left", pad="0"))
zips3 <- zips2 %>%
mutate(zip3 = str_pad(zip3, 5, side="left", pad="0"))
locationsmidwives <- zips3 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(location, city, state, sep = ", ", remove=F) %>%
unite(location, location, zip, sep = " ", remove=F) %>%
unite(location2, city2, state2, sep = ", ", remove=F) %>%
unite(location2, location2, zip2, sep = " ", remove=F) %>%
unite(location3, city3, state3, sep = ", ", remove=F) %>%
unite(location3, location3, zip3, sep = " ", remove=F)
locationsmidwives2 <- locationsmidwives %>%
unite(combined_location, location, location2, location3, sep = "; ", remove=T)
namesmidwives <- locationsmidwives2 %>%
separate(name, into = c("name1", "name2"), sep = ", ", remove=T)
namesmidwives2 <- namesmidwives %>%
unite(name, name2, name1, sep = " ", remove=T)
namesmidwives3 <- namesmidwives2 %>%
separate(alias, into = c("alias_1", "alias_2"), sep = ", ", remove=T)
namesmidwives4 <- namesmidwives3 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(alias, alias_2, alias_1, sep = " ", remove=T)
namesmidwives5 <- namesmidwives4 %>%
separate(alias2, into = c("2alias_1", "2alias_2"), sep = ", ", remove=T)
namesmidwives6 <- namesmidwives5 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(alias2, "2alias_2", "2alias_1", sep = " ", remove=T)
namesmidwives7 <- namesmidwives6 %>%
unite(combined_name, name, alias, alias2, sep = " A.K.A. ", remove=T)
credentialsmidwives <- namesmidwives7 %>%
unite(combined_credentials, known_credentials, known_credentials2, known_credentials3, known_credentials4, known_credentials5, sep=", ", remove=T)
# Replace all n/a's with blanks
removeblanks_midwives <- credentialsmidwives %>%
mutate_all(funs(gsub("n/a, ", "", .))) %>%
mutate_all(funs(gsub("A.K.A. n/a ", "", .))) %>%
mutate_all(funs(gsub(" A.K.A. n/a", "", .))) %>%
mutate_all(funs(gsub("; n/a n/a", "", .))) %>%
mutate_all(funs(gsub("n/a, n/a", "", .))) %>%
mutate_all(funs(gsub(", n/a", "", .))) %>%
mutate_all(funs(gsub(" n/a", "", .))) %>%
mutate(city = str_replace(city, "n/a", "")) %>%
mutate(state = str_replace(state, "n/a", "")) %>%
mutate(city2 = str_replace(city2, "n/a", "")) %>%
mutate(state2 = str_replace(state2, "n/a", "")) %>%
mutate(city3 = str_replace(city3, "n/a", "")) %>%
mutate(state3 = str_replace(state3, "n/a", "")) %>%
mutate_all(funs(gsub("n/a", "NA", .))) %>%
rename("name" = combined_name) %>%
rename("known_credentials" = combined_credentials) %>%
rename("location" = combined_location) %>%
select(-address, -address2, -notes, -previous_name) %>%
select(name, state_of_record, location, known_credentials, license_number, license_number2, license_number3, license_number4, license_status, license_status2, license_status3, license_status4, facility, city, state, zip, city2, state2, zip2, city3, state3, zip3, documents, data_source, data_source_link, date_collected, x)
combinecitystate <- removeblanks_midwives %>%
unite(citystate, city, state, sep=", ", remove=T) %>%
select(-zip, -city2, -state2, -zip2, -city3, -state3, -zip3)
combinecitystate2 <- combinecitystate %>%
mutate(citystate = str_replace(citystate, "^, $", ""))
formatmidwives <- combinecitystate2 %>%
mutate(name = toupper(combinecitystate2$name)) %>%
mutate(state_of_record = toupper(combinecitystate2$state_of_record)) %>%
mutate(location = toupper(combinecitystate2$location)) %>%
mutate(known_credentials = toupper(combinecitystate2$known_credentials)) %>%
mutate(license_status = toupper(combinecitystate2$license_status)) %>%
mutate(license_status2 = toupper(combinecitystate2$license_status2)) %>%
mutate(license_status3 = toupper(combinecitystate2$license_status3)) %>%
mutate(license_status4 = toupper(combinecitystate2$license_status4)) %>%
mutate(facility = toupper(combinecitystate2$facility)) %>%
mutate(data_source = toupper(combinecitystate2$data_source)) %>%
mutate(date_collected = toupper(combinecitystate2$date_collected)) %>%
mutate(citystate = toupper(combinecitystate2$citystate))
displaymidwives <- formatmidwives %>%
mutate(name = str_replace(name, "/.", ""))
#documentsfilter <- displaymidwives %>%
#filter(documents != "NA")
write_csv(displaymidwives, "FINALMIDWIVES_FORDISPLAY.csv")
#displaymidwives %>% count(citystate) %>% View()
#displaymidwives %>% count(state_of_record, known_credentials) %>% View()
#FINALMIDWIVES2 %>% count(license_status) %>% View()
#midwifedisplaydupes <- displaymidwives %>%
#get_dupes(name)
#dupesfilter <- midwifedisplaydupes %>%
#filter(known_credentials == "STATE LICENSED MIDWIFE")
#write_csv(dupesfilter, "midwifedupes.csv")
#filter_for_links %>% count(state_of_record) %>% View()
setwd("~/Desktop/FINAL MIDWIFE FILES")
FINALMIDWIVES <- read_csv("FINALMIDWIVES11152018UPDATED.csv")
CONVERTFINALMIDWIVES <- FINALMIDWIVES %>%
clean_names()
setwd("~/Desktop/FINAL MIDWIFE FILES")
FINALMIDWIVES <- read_csv("FINALMIDWIVES11152018UPDATED.csv")
CONVERTFINALMIDWIVES <- FINALMIDWIVES %>%
clean_names()
alabama_nursemidwives <- read_csv("FINAL_ALABAMA_NURSEMIDWIVES.csv") %>%
mutate(known_credentials = "CERTIFIED NURSE MIDWIFE") %>%
clean_names()
alaska_midwives <- read_csv("FINAL_ALASKA_MIDWIVES.csv") %>%
clean_names() %>%
select(-date_collected) %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(data_source = "ALASKA DEPARTMENT OF COMMERCE, COMMUNITY AND ECONOMIC DEVELOPMENT")
arkansas_midwives <- read_csv("FINAL_ARKANSAS_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
california_midwives <- read_csv("FINAL_CALIFORNIA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
california_nursemidwives <- read_csv("FINAL_CALIFORNIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
colorado_midwives <- read_csv("FINAL_COLORADO_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
colorado_nursemidwives <- read_csv("FINAL_COLORADO_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
dc_nursemidwives <- read_csv("FINAL_DC_NURSEMIDWIVES.csv") %>%
clean_names()
florida_midwives <- read_csv("FINAL_FLORIDA_MIDWIVES.csv") %>%
clean_names() %>%
select(-city) %>%
mutate(date_collected = "OCTOBER 2018")
florida_nursemidwives <- read_csv("FINAL_FLORIDA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
georgia_nursemidwives <- read_csv("FINAL_GEORGIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
idaho_midwives <- read_csv("FINAL_IDAHO_MIDWIVES.CSV") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
idaho_nursemidwives <- read_csv("FINAL_IDAHO_NURSEMIDWIVES.CSV") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
illinois_nursemidwives <- read_csv("FINAL_ILLINOIS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
indiana_midwives <- read_csv("FINAL_INDIANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
indiana_nursemidwives <- read_csv("FINAL_INDIANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
iowa_nursemidwives <- read_csv("FINAL_IOWA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
kentucky_nursemidwives <- read_csv("FINAL_KENTUCKY_NURSEMIDWIVES.csv") %>%
clean_names()
lousiana_midwives <- read_csv("FINAL_LOUISIANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
lousiana_nursemidwives <- read_csv("FINAL_LOUISIANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
maryland_midwives <- read_csv("FINAL_MARYLAND_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
maryland_nursemidwives <- read_csv("FINAL_MARYLAND_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
massachusetts_nursemidwives <- read_csv("FINAL_MASSACHUSETTS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
michigan_nursemidwives <- read_csv("FINAL_MICHIGAN_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
minnesota_midwives <- read_csv("FINAL_MINNESOTA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
mississippi_nursemidwives <- read_csv("FINAL_MISSISSIPPI_NURSEMIDWIVES.csv") %>%
clean_names()
montana_midwives <- read_csv("FINAL_MONTANA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
montana_nursemidwives <- read_csv("FINAL_MONTANA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
nebraska_nursemidwives <- read_csv("FINAL_NEBRASKA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
nevada_nursemidwives <- read_csv("FINAL_NEVADA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
newjersey_allmidwives <- read_csv("FINAL_NEWJERSEY_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
newmexico_midwives <- read_csv("FINAL_NEWMEXICO_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018") %>%
mutate(known_credentials = "STATE LICENSED MIDWIFE")
newmexico_nursemidwives <- read_csv("FINAL_NEWMEXICO_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
newyork_midwives <- read_csv("FINAL_NEWYORK_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
northcarolina_nursemidwives <- read_csv("FINAL_NORTHCAROLINA_NURSEMIDWIVES.csv") %>%
clean_names()
ohio_nursemidwives <- read_csv("FINAL_OHIO_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
oklahoma_nursemidwives <- read_csv("FINAL_OKLAHOMA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
oregon_midwives <- read_csv("FINAL_OREGON_MIDWIVES.csv") %>%
clean_names()
oregon_nursemidwives <- read_csv("FINAL_OREGON_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
pennsylvania_nursemidwives <- read_csv("FINAL_PENNSYLVANIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
rhodeisland_allmidwives <- read_csv("FINAL_RHODEISLAND_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
southdakota_nursemidwives <- read_csv("FINAL_SOUTHDAKOTA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
texas_midwives <- read_csv("FINAL_TEXAS_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
texas_nursemidwives <- read_csv("FINAL_TEXAS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
utah_midwives <- read_csv("FINAL_UTAH_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
utah_nursemidwives <- read_csv("FINAL_UTAH_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
vermont_nursemidwives <- read_csv("FINAL_VERMONT_NURSEMIDWIVES.csv") %>%
clean_names() %>%
select(-city) %>%
mutate(date_collected = "AUGUST 2018")
virginia_midwives <- read_csv("WAITINGFORNEW_VIRGINIA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia midwives is not complete.")
virginia_nursemidwives <- read_csv("WAITINGFORNEW_VIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia nurse midwives is not complete.")
westvirginia_nursemidwives <- read_csv("FINAL_WESTVIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
wisconsin_allmidwives <- read_csv("FINAL_WISCONSIN_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
wyoming_midwives <- read_csv("FINAL_WYOMING_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
self_reported_midwives <- read_csv("SELF-REPORTEDMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
FINALMIDWIVES2 <- bind_rows(mutate_all(CONVERTFINALMIDWIVES, as.character), mutate_all(alabama_nursemidwives, as.character), mutate_all(alaska_midwives, as.character), mutate_all(arkansas_midwives, as.character), mutate_all(california_midwives, as.character), mutate_all(california_nursemidwives, as.character), mutate_all(colorado_midwives, as.character), mutate_all(colorado_nursemidwives, as.character), mutate_all(dc_nursemidwives, as.character), mutate_all(florida_midwives, as.character), mutate_all(florida_nursemidwives, as.character), mutate_all(georgia_nursemidwives, as.character), mutate_all(idaho_midwives, as.character), mutate_all(idaho_nursemidwives, as.character), mutate_all(indiana_midwives, as.character), mutate_all(indiana_nursemidwives, as.character), mutate_all(illinois_nursemidwives, as.character), mutate_all(iowa_nursemidwives, as.character), mutate_all(kentucky_nursemidwives, as.character), mutate_all(lousiana_midwives, as.character), mutate_all(lousiana_nursemidwives, as.character), mutate_all(maryland_midwives, as.character), mutate_all(maryland_nursemidwives, as.character), mutate_all(massachusetts_nursemidwives, as.character), mutate_all(michigan_nursemidwives, as.character), mutate_all(minnesota_midwives, as.character), mutate_all(mississippi_nursemidwives, as.character), mutate_all(montana_midwives, as.character), mutate_all(montana_nursemidwives, as.character), mutate_all(nebraska_nursemidwives, as.character), mutate_all(nevada_nursemidwives, as.character), mutate_all(newyork_midwives, as.character), mutate_all(newjersey_allmidwives, as.character), mutate_all(newmexico_midwives, as.character), mutate_all(newmexico_nursemidwives, as.character), mutate_all(northcarolina_nursemidwives, as.character), mutate_all(ohio_nursemidwives, as.character), mutate_all(oklahoma_nursemidwives, as.character), mutate_all(oregon_midwives, as.character), mutate_all(oregon_nursemidwives, as.character), mutate_all(pennsylvania_nursemidwives, as.character), mutate_all(rhodeisland_allmidwives, as.character), mutate_all(southdakota_nursemidwives, as.character), mutate_all(texas_midwives, as.character), mutate_all(texas_nursemidwives, as.character), mutate_all(utah_midwives, as.character), mutate_all(utah_nursemidwives, as.character), mutate_all(vermont_nursemidwives, as.character), mutate_all(virginia_midwives, as.character), mutate_all(virginia_nursemidwives, as.character), mutate_all(westvirginia_nursemidwives, as.character), mutate_all(wisconsin_allmidwives, as.character), mutate_all(wyoming_midwives, as.character), mutate_all(self_reported_midwives, as.character))
texas_midwives <- read_csv("FINAL_TEXAS_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Texas midwives is not complete.")
texas_nursemidwives <- read_csv("FINAL_TEXAS_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
utah_midwives <- read_csv("FINAL_UTAH_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
utah_nursemidwives <- read_csv("FINAL_UTAH_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
vermont_nursemidwives <- read_csv("FINAL_VERMONT_NURSEMIDWIVES.csv") %>%
clean_names() %>%
select(-city) %>%
mutate(date_collected = "AUGUST 2018")
virginia_midwives <- read_csv("WAITINGFORNEW_VIRGINIA_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia midwives is not complete.")
virginia_nursemidwives <- read_csv("WAITINGFORNEW_VIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018") %>%
mutate(x = "This list of Virginia nurse midwives is not complete.")
westvirginia_nursemidwives <- read_csv("FINAL_WESTVIRGINIA_NURSEMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "AUGUST 2018")
wisconsin_allmidwives <- read_csv("FINAL_WISCONSIN_ALLMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "NOVEMBER 2018")
wyoming_midwives <- read_csv("FINAL_WYOMING_MIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "JULY 2018")
self_reported_midwives <- read_csv("SELF-REPORTEDMIDWIVES.csv") %>%
clean_names() %>%
mutate(date_collected = "OCTOBER 2018")
FINALMIDWIVES2 <- bind_rows(mutate_all(CONVERTFINALMIDWIVES, as.character), mutate_all(alabama_nursemidwives, as.character), mutate_all(alaska_midwives, as.character), mutate_all(arkansas_midwives, as.character), mutate_all(california_midwives, as.character), mutate_all(california_nursemidwives, as.character), mutate_all(colorado_midwives, as.character), mutate_all(colorado_nursemidwives, as.character), mutate_all(dc_nursemidwives, as.character), mutate_all(florida_midwives, as.character), mutate_all(florida_nursemidwives, as.character), mutate_all(georgia_nursemidwives, as.character), mutate_all(idaho_midwives, as.character), mutate_all(idaho_nursemidwives, as.character), mutate_all(indiana_midwives, as.character), mutate_all(indiana_nursemidwives, as.character), mutate_all(illinois_nursemidwives, as.character), mutate_all(iowa_nursemidwives, as.character), mutate_all(kentucky_nursemidwives, as.character), mutate_all(lousiana_midwives, as.character), mutate_all(lousiana_nursemidwives, as.character), mutate_all(maryland_midwives, as.character), mutate_all(maryland_nursemidwives, as.character), mutate_all(massachusetts_nursemidwives, as.character), mutate_all(michigan_nursemidwives, as.character), mutate_all(minnesota_midwives, as.character), mutate_all(mississippi_nursemidwives, as.character), mutate_all(montana_midwives, as.character), mutate_all(montana_nursemidwives, as.character), mutate_all(nebraska_nursemidwives, as.character), mutate_all(nevada_nursemidwives, as.character), mutate_all(newyork_midwives, as.character), mutate_all(newjersey_allmidwives, as.character), mutate_all(newmexico_midwives, as.character), mutate_all(newmexico_nursemidwives, as.character), mutate_all(northcarolina_nursemidwives, as.character), mutate_all(ohio_nursemidwives, as.character), mutate_all(oklahoma_nursemidwives, as.character), mutate_all(oregon_midwives, as.character), mutate_all(oregon_nursemidwives, as.character), mutate_all(pennsylvania_nursemidwives, as.character), mutate_all(rhodeisland_allmidwives, as.character), mutate_all(southdakota_nursemidwives, as.character), mutate_all(texas_midwives, as.character), mutate_all(texas_nursemidwives, as.character), mutate_all(utah_midwives, as.character), mutate_all(utah_nursemidwives, as.character), mutate_all(vermont_nursemidwives, as.character), mutate_all(virginia_midwives, as.character), mutate_all(virginia_nursemidwives, as.character), mutate_all(westvirginia_nursemidwives, as.character), mutate_all(wisconsin_allmidwives, as.character), mutate_all(wyoming_midwives, as.character), mutate_all(self_reported_midwives, as.character))
write_csv(FINALMIDWIVES2, "finalmidwives2.csv")
format_finalmidwives <- FINALMIDWIVES2
zips1 <- format_finalmidwives %>%
mutate(zip = str_pad(zip, 5, side="left", pad="0"))
zips2 <- zips1 %>%
mutate(zip2 = str_pad(zip2, 5, side="left", pad="0"))
zips3 <- zips2 %>%
mutate(zip3 = str_pad(zip3, 5, side="left", pad="0"))
locationsmidwives <- zips3 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(location, city, state, sep = ", ", remove=F) %>%
unite(location, location, zip, sep = " ", remove=F) %>%
unite(location2, city2, state2, sep = ", ", remove=F) %>%
unite(location2, location2, zip2, sep = " ", remove=F) %>%
unite(location3, city3, state3, sep = ", ", remove=F) %>%
unite(location3, location3, zip3, sep = " ", remove=F)
locationsmidwives2 <- locationsmidwives %>%
unite(combined_location, location, location2, location3, sep = "; ", remove=T)
namesmidwives <- locationsmidwives2 %>%
separate(name, into = c("name1", "name2"), sep = ", ", remove=T)
namesmidwives2 <- namesmidwives %>%
unite(name, name2, name1, sep = " ", remove=T)
namesmidwives3 <- namesmidwives2 %>%
separate(alias, into = c("alias_1", "alias_2"), sep = ", ", remove=T)
namesmidwives4 <- namesmidwives3 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(alias, alias_2, alias_1, sep = " ", remove=T)
namesmidwives5 <- namesmidwives4 %>%
separate(alias2, into = c("2alias_1", "2alias_2"), sep = ", ", remove=T)
namesmidwives6 <- namesmidwives5 %>%
mutate_all(funs(str_replace_na(., replacement = "n/a"))) %>%
unite(alias2, "2alias_2", "2alias_1", sep = " ", remove=T)
namesmidwives7 <- namesmidwives6 %>%
unite(combined_name, name, alias, alias2, sep = " A.K.A. ", remove=T)
credentialsmidwives <- namesmidwives7 %>%
unite(combined_credentials, known_credentials, known_credentials2, known_credentials3, known_credentials4, known_credentials5, sep=", ", remove=T)
removeblanks_midwives <- credentialsmidwives %>%
mutate_all(funs(gsub("n/a, ", "", .))) %>%
mutate_all(funs(gsub("A.K.A. n/a ", "", .))) %>%
mutate_all(funs(gsub(" A.K.A. n/a", "", .))) %>%
mutate_all(funs(gsub("; n/a n/a", "", .))) %>%
mutate_all(funs(gsub("n/a, n/a", "", .))) %>%
mutate_all(funs(gsub(", n/a", "", .))) %>%
mutate_all(funs(gsub(" n/a", "", .))) %>%
mutate(city = str_replace(city, "n/a", "")) %>%
mutate(state = str_replace(state, "n/a", "")) %>%
mutate(city2 = str_replace(city2, "n/a", "")) %>%
mutate(state2 = str_replace(state2, "n/a", "")) %>%
mutate(city3 = str_replace(city3, "n/a", "")) %>%
mutate(state3 = str_replace(state3, "n/a", "")) %>%
mutate_all(funs(gsub("n/a", "NA", .))) %>%
rename("name" = combined_name) %>%
rename("known_credentials" = combined_credentials) %>%
rename("location" = combined_location) %>%
select(-address, -address2, -notes, -previous_name) %>%
select(name, state_of_record, location, known_credentials, license_number, license_number2, license_number3, license_number4, license_status, license_status2, license_status3, license_status4, facility, city, state, zip, city2, state2, zip2, city3, state3, zip3, documents, data_source, data_source_link, date_collected, x)
combinecitystate <- removeblanks_midwives %>%
unite(citystate, city, state, sep=", ", remove=T) %>%
select(-zip, -city2, -state2, -zip2, -city3, -state3, -zip3)
combinecitystate2 <- combinecitystate %>%
mutate(citystate = str_replace(citystate, "^, $", ""))
formatmidwives <- combinecitystate2 %>%
mutate(name = toupper(combinecitystate2$name)) %>%
mutate(state_of_record = toupper(combinecitystate2$state_of_record)) %>%
mutate(location = toupper(combinecitystate2$location)) %>%
mutate(known_credentials = toupper(combinecitystate2$known_credentials)) %>%
mutate(license_status = toupper(combinecitystate2$license_status)) %>%
mutate(license_status2 = toupper(combinecitystate2$license_status2)) %>%
mutate(license_status3 = toupper(combinecitystate2$license_status3)) %>%
mutate(license_status4 = toupper(combinecitystate2$license_status4)) %>%
mutate(facility = toupper(combinecitystate2$facility)) %>%
mutate(data_source = toupper(combinecitystate2$data_source)) %>%
mutate(date_collected = toupper(combinecitystate2$date_collected)) %>%
mutate(citystate = toupper(combinecitystate2$citystate))
displaymidwives <- formatmidwives %>%
mutate(name = str_replace(name, "/.", ""))
write_csv(displaymidwives, "FINALMIDWIVES_FORDISPLAY.csv")
